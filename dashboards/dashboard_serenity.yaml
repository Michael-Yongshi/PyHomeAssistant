title: Serenity
views:
  - title: Dashboard
    path: dashboard
    badges: []
    cards:
      - type: entities
        entities:
          - entity: light.bedroom_light
          - entity: light.office_didi
          - entity: light.office_mike_light
          - entity: light.garden_lights
          - entity: light.garage_front_channel_1
            name: Garage Front Reindeer
          - entity: light.garage_front_channel_2
            name: Garage Front Cluster
          - entity: switch.wcd_iron
        title: Lights and Power
        show_header_toggle: true
      - type: thermostat
        entity: climate.thermostat
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: sensor.mqtt_fan_status
              - entity: sensor.mqtt_fan_override_status
            show_header_toggle: false
            state_color: true
            title: Fan
          - type: horizontal-stack
            cards:
              - type: button
                name: Fan1
                icon: mdi:fan-speed-1
                show_name: false
                icon_height: 30px
                tap_action:
                  action: call-service
                  service: mqtt.publish
                  service_data:
                    topic: fan/override/set
                    payload: '1'
                    qos: '2'
                  target: {}
              - type: button
                icon: mdi:fan-speed-2
                name: Fan2
                show_name: false
                icon_height: 30px
                tap_action:
                  action: call-service
                  service: mqtt.publish
                  service_data:
                    topic: fan/override/set
                    payload: '2'
                    qos: '2'
                  target: {}
              - type: button
                name: Fan3
                icon: mdi:fan-speed-3
                show_name: false
                icon_height: 30px
                tap_action:
                  action: call-service
                  service: mqtt.publish
                  service_data:
                    topic: fan/override/set
                    payload: '3'
                    qos: '2'
                  target: {}
              - type: button
                name: Fan0
                icon: hass:cog
                show_name: false
                icon_height: 30px
                tap_action:
                  action: call-service
                  service: mqtt.publish
                  service_data:
                    topic: fan/override/set
                    payload: '9'
                    qos: '2'
                  target: {}
                hold_action:
                  action: call-service
                  service: mqtt.publish
                  service_data:
                    topic: fan/override/set
                    payload: '0'
                    qos: '2'
                  target: {}
      - type: gauge
        entity: sensor.grid_power
        name: Solar
        unit: kW
        max: 3000
        min: 1
        needle: false
  - title: Energy
    path: energy
    icon: ''
    badges: []
    cards:
      - type: horizontal-stack
        title: Energy Usage
        cards:
          - type: energy-usage-graph
      - type: horizontal-stack
        title: Solar Production
        cards:
          - type: energy-solar-graph
      - type: vertical-stack
        title: Power
        cards:
          - hours_to_show: 24
            graph: none
            type: sensor
            entity: sensor.net_energy_use
            name: Net Energy Usage
            detail: 2
            icon: mdi:transmission-tower
            unit: kW
      - type: horizontal-stack
        title: Energy Distribution
        cards:
          - type: energy-distribution
            link_dashboard: true
      - type: entities
        entities:
          - entity: sensor.status
            name: Solar equipment status
            icon: mdi:power
          - entity: sensor.grid_power
            name: Current solar production
            icon: mdi:solar-power
          - entity: sensor.daily_yield
            name: Todays solar production
            icon: mdi:home-lightning-bolt
          - entity: sensor.total_yield
            name: All-time solar production
            icon: mdi:home-lightning-bolt
        title: Inverter
  - title: Devices
    path: default_view
    icon: ''
    badges: []
    cards:
      - type: vertical-stack
        title: Wifi Guest
        cards:
          - type: picture
            image: /local/wifi-guest-qr-cropped.png
            tap_action:
              action: none
            hold_action:
              action: none
      - type: horizontal-stack
        title: Automatic Garden Lights
        cards:
          - type: button
            name: GardenLightOn
            icon: mdi:lightbulb-on
            show_name: false
            icon_height: 30px
            tap_action:
              action: call-service
              service: script.garden_lights_override_on
            hold_action:
              action: call-service
              service: script.garden_lights_override_auto
          - type: button
            icon: mdi:lightbulb-off-outline
            name: GardenLightOff
            show_name: false
            icon_height: 30px
            tap_action:
              action: call-service
              service: script.garden_lights_override_off
            hold_action:
              action: call-service
              service: script.garden_lights_override_auto
          - type: button
            name: GardenLightAuto
            icon: hass:cog
            show_name: false
            icon_height: 30px
            tap_action:
              action: call-service
              service: script.garden_lights_override_auto
            hold_action:
              action: call-service
              service: script.garden_lights_override_auto
      - type: entities
        entities:
          - vacuum.dusty
          - binary_sensor.dusty_bin_full
          - sensor.dusty_battery_level
        title: Vacuum
      - type: vertical-stack
        title: Apple TV
        cards:
          - type: media-control
            entity: media_player.apple_tv_2
          - type: entities
            entities:
              - remote.apple_tv_2
  - title: Climate
    path: climate
    icon: ''
    badges: []
    cards:
      - type: vertical-stack
        title: Thermostat Timeslots
        cards:
          - type: entities
            entities:
              - entity: input_datetime.night_timeslot_slider
              - entity: input_number.night_temp_slider
            show_header_toggle: false
            state_color: false
          - type: entities
            entities:
              - entity: input_datetime.morning_timeslot_slider
              - entity: input_number.morning_temp_slider
            show_header_toggle: false
            state_color: false
          - type: entities
            entities:
              - entity: input_datetime.afternoon_timeslot_slider
              - entity: input_number.afternoon_temp_slider
            show_header_toggle: false
            state_color: false
          - type: entities
            entities:
              - entity: input_datetime.evening_timeslot_slider
              - entity: input_number.evening_temp_slider
            show_header_toggle: false
            state_color: false
      - type: vertical-stack
        title: Humidity
        cards:
          - type: sensor
            entity: sensor.mqtt_living_humidity
            graph: line
            detail: 2
            hours_to_show: 24
          - type: sensor
            entity: sensor.mqtt_bathroom_humidity
            graph: line
            detail: 2
            hours_to_show: 24
      - type: vertical-stack
        title: Temperature
        cards:
          - type: sensor
            entity: sensor.mqtt_living_temperature
            graph: line
            detail: 2
            hours_to_show: 24
          - type: sensor
            entity: sensor.mqtt_bathroom_temperature
            graph: line
            detail: 2
            hours_to_show: 24
  - title: Debug
    path: debug
    icon: ''
    badges: []
    cards:
      - type: entities
        entities:
          - entity: sensor.hookie_ewok_status
          - entity: binary_sensor.hookie_ewok_security_status
          - entity: binary_sensor.hookie_ewok_below_min_remaining_life
          - entity: binary_sensor.hookie_ewok_exceeded_max_bad_sectors
          - entity: binary_sensor.hookie_ewok_update_available
          - entity: sensor.hookie_ewok_used_space
          - entity: sensor.hookie_ewok_volume_used
        title: Network Attached Storage
        show_header_toggle: true
      - type: entity
        entity: light.garden_lights
      - type: glance
        entities:
          - entity: sensor.bedroom_light_rssi
          - entity: sensor.office_mike_light_rssi
          - entity: sensor.office_didi_rssi
          - entity: sensor.garden_lights_rssi
          - entity: sensor.floor_pump_rssi
        title: Shellies
      - type: entities
        entities:
          - entity: switch.mqtt_heater
          - entity: switch.floor_pump
        title: Heater
      - type: entities
        title: Voltage
        entities:
          - sensor.voltage_phase_l1
          - sensor.voltage_phase_l2
          - sensor.voltage_phase_l3
      - type: entities
        title: Current
        entities:
          - entity: sensor.current_phase_l1
          - entity: sensor.current_phase_l2
          - entity: sensor.current_phase_l3
          - entity: sensor.pv_current_a
            name: Current Solar L1
            icon: mdi:current-ac
      - type: vertical-stack
        title: Bitcoin
        show_header_toggle: false
        cards:
          - type: entities
            title: Bitcoin Mainnet
            show_header_toggle: true
            entities:
              - sensor.mqtt_btcmain_current_block
              - sensor.mqtt_btcmain_highest_block
              - sensor.mqtt_btcmain_connections
          - type: entities
            title: Bitcoin Testnet
            show_header_toggle: true
            entities:
              - sensor.btctest_syncing
      - type: vertical-stack
        title: Ethereum
        show_header_toggle: false
        cards:
          - type: entities
            title: Ethereum Mainnet
            show_header_toggle: true
            entities:
              - sensor.mqtt_ethmain_current_block
              - sensor.mqtt_ethmain_highest_block
              - sensor.mqtt_ethmain_pulled_states
              - sensor.mqtt_ethmain_known_states
          - type: entities
            title: Ethereum Ropsten
            show_header_toggle: true
            entities:
              - sensor.mqtt_ethropsten_current_block
              - sensor.mqtt_ethropsten_highest_block
              - sensor.mqtt_ethropsten_pulled_states
              - sensor.mqtt_ethropsten_known_states
      - type: entities
        entities:
          - entity: sensor.mqtt_doorbell_status
      - type: custom:auto-entities
        card:
          type: glance
          title: Afvalwijzer
        filter:
          include:
            - entity_id: sensor.afvalwijzer_gft
            - entity_id: sensor.afvalwijzer_papier
            - entity_id: sensor.afvalwijzer_pmd
            - entity_id: sensor.afvalwijzer_restafval
        sort:
          attribute: days_until_collection_date
          method: attribute
          numeric: true
